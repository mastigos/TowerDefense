Index: test.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import pygame\r\nfrom GameElements.Enemy import Knight\r\nfrom GameElements.Map import Map\r\nfrom GameElements.Tower import Cannon, Catapult, Ballista, CaltropsDispenser, KnightsBarracks, HolyChapel\r\n\r\npygame.init()\r\n\r\n# Screen settings\r\nWIDTH, HEIGHT = 800, 600\r\nscreen = pygame.display.set_mode((WIDTH, HEIGHT))\r\npygame.display.set_caption(\"Tower Defense\")\r\n\r\n# Game clock\r\nclock = pygame.time.Clock()\r\nFPS = 30\r\n\r\n# Colors\r\nDARK_GREEN = (34, 139, 34)\r\nRED = (255, 0, 0)\r\nBLACK = (0, 0, 0)\r\nGREEN = (0, 255, 0)\r\nGRAY = (100, 100, 100)\r\nBROWN = (139, 69, 19)\r\nBLUE = (0, 0, 255)\r\n\r\n# Player resources\r\nplayer_gold = 100  # Initialize player's gold for building towers\r\n\r\n# Grid\r\ndef drawGrid():\r\n    blockSize = 30  # Grid block size\r\n    for x in range(0, WIDTH, blockSize):\r\n        for y in range(0, HEIGHT, blockSize):\r\n            rect = pygame.Rect(x, y, blockSize, blockSize)\r\n            pygame.draw.rect(screen, GRAY, rect, 1)\r\n\r\n# Castle\r\nclass Castle:\r\n    def __init__(self):\r\n        blockSize = 30\r\n        self.health = 100\r\n        self.shield = 50\r\n        self.width = 5 * blockSize  # Align to grid\r\n        self.height = 5 * blockSize  # Ditto\r\n\r\n        self.x = WIDTH - self.width - (WIDTH % blockSize) - (5 * blockSize)\r\n        self.y = ((HEIGHT // 2) // blockSize) * blockSize  # Snap to grid\r\n\r\n        self.original_image = pygame.image.load(\"GameSprites/Castle/Castle.png\").convert_alpha()\r\n        self.resized_image = pygame.transform.scale(self.original_image, (200, 200))\r\n        self.image = pygame.transform.flip(self.resized_image, True, False)\r\n        self.image_rect = self.image.get_rect(center=(self.x + self.width // 2, self.y + self.height // 2))\r\n\r\n    def draw(self):\r\n        # Castle\r\n        screen.blit(self.image, self.image_rect.topleft)\r\n        # Health bar\r\n        pygame.draw.rect(screen, RED, (self.x, self.y - 20, (self.health / 100) * self.width, 10))\r\n        # Shield bar\r\n        pygame.draw.rect(screen, GREEN, (self.x, self.y - 35, (self.shield / 50) * self.width, 10))\r\n\r\n\r\ndef drawPath(screen, waypoints, path_image, block_size):\r\n    for i in range(len(waypoints) - 1):\r\n        start_x, start_y = waypoints[i]\r\n        end_x, end_y = waypoints[i + 1]\r\n\r\n        x, y = start_x, start_y\r\n\r\n        while (x, y) != (end_x, end_y):\r\n            screen.blit(path_image, (x, y))\r\n\r\n            if x < end_x:\r\n                x += block_size\r\n            elif x > end_x:\r\n                x -= block_size\r\n\r\n            if y < end_y:\r\n                y += block_size\r\n            elif y > end_y:\r\n                y -= block_size\r\n\r\n        # Place final tile\r\n        screen.blit(path_image, (end_x, end_y))\r\n\r\ndef display_build_ui(player_gold):\r\n\r\n    font = pygame.font.SysFont(\"Arial\", 24)\r\n\r\n\r\n    ui_width = 200\r\n    ui_height = 150\r\n    pygame.draw.rect(screen, (200, 200, 200), (WIDTH - ui_width, 0, ui_width, ui_height))\r\n\r\n    tower_data = [\r\n        (\"Cannon\", 15),\r\n        (\"Catapult\", 25),\r\n        (\"Ballista\", 40),\r\n        (\"Caltrops\", 20),\r\n        (\"Knights Barracks\", 50),\r\n        (\"Holy Chapel\", 30),\r\n    ]\r\n\r\n    y_offset = 20\r\n    selected_tower = None\r\n    for name, cost in tower_data:\r\n        color = GREEN if cost <= player_gold else RED\r\n        text = font.render(f\"{name}: {cost} Gold\", True, color)\r\n        screen.blit(text, (WIDTH - ui_width + 10, y_offset))\r\n        y_offset += 30\r\n\r\n        if color == GREEN and selected_tower is None:\r\n            if pygame.mouse.get_pressed()[0]:\r\n                if y_offset - 30 < pygame.mouse.get_pos()[1] < y_offset:\r\n                    if name == \"Cannon\":\r\n                        selected_tower = Cannon(level=1)\r\n                    elif name == \"Catapult\":\r\n                        selected_tower = Catapult(level=1)\r\n                    elif name == \"Ballista\":\r\n                        selected_tower = Ballista(level=1)\r\n                    elif name == \"Caltrops\":\r\n                        selected_tower = CaltropsDispenser(level=1)\r\n                    elif name == \"Knights Barracks\":\r\n                        selected_tower = KnightsBarracks(level=1)\r\n                    elif name == \"Holy Chapel\":\r\n                        selected_tower = HolyChapel(level=1)\r\n\r\n    return selected_tower\r\n\r\ndef draw_ui(screen, mouse_x, mouse_y):\r\n\r\n    tower_ui_width = 200\r\n    tower_ui_height = 120\r\n    tower_ui_x = mouse_x\r\n    tower_ui_y = mouse_y\r\n\r\n    pygame.draw.rect(screen, (255, 255, 255), (tower_ui_x, tower_ui_y, tower_ui_width, tower_ui_height))\r\n\r\n    pygame.draw.rect(screen, (255, 0, 0), (tower_ui_x + 10, tower_ui_y + 10, 180, 30))\r\n    pygame.draw.rect(screen, (0, 255, 0), (tower_ui_x + 10, tower_ui_y + 40, 180, 30))\r\n    pygame.draw.rect(screen, (0, 0, 255), (tower_ui_x + 10, tower_ui_y + 70, 180, 30))\r\n\r\n    font = pygame.font.SysFont(None, 24)\r\n    font_render = font.render(\"Cannon\", True, (0, 0, 0))\r\n    screen.blit(font_render, (tower_ui_x + 75, tower_ui_y + 15))\r\n    font_render = font.render(\"Catapult\", True, (0, 0, 0))\r\n    screen.blit(font_render, (tower_ui_x + 65, tower_ui_y + 45))\r\n    font_render = font.render(\"Ballista\", True, (0, 0, 0))\r\n    screen.blit(font_render, (tower_ui_x + 70, tower_ui_y + 75))\r\n\r\ndef game_loop():\r\n    castle = Castle()\r\n    knight = Knight()\r\n    waypoints = [\r\n        (0, 300), (200, 300), (200, 100), (400, 100), (400, 500),\r\n        (castle.x + castle.width // 2, 500),\r\n        (castle.x + castle.width // 2, castle.y + castle.height)\r\n    ]\r\n\r\n    map = Map(WIDTH, HEIGHT, 30, waypoints, castle)\r\n\r\n    selected_tower = None\r\n    show_ui = False\r\n    ui_mouse_x = 0\r\n    ui_mouse_y = 0\r\n    selected_tile = None\r\n\r\n    towers = []\r\n    enemies = []\r\n\r\n\r\n\r\n\r\n    running = True\r\n    while running:\r\n        screen.fill(DARK_GREEN)\r\n        map.draw(screen)\r\n        drawGrid()\r\n\r\n        for event in pygame.event.get():\r\n            if event.type == pygame.QUIT:\r\n                running = False\r\n                break\r\n\r\n            if event.type == pygame.MOUSEBUTTONDOWN and event.button == 1:\r\n                mouse_x, mouse_y = pygame.mouse.get_pos()\r\n                row = mouse_y // map.block_size\r\n                col = mouse_x // map.block_size\r\n\r\n                if map.tileMap[row][col] == 0 and not show_ui:\r\n                    show_ui = True\r\n                    ui_mouse_x = mouse_x\r\n                    ui_mouse_y = mouse_y\r\n                    selected_tile = (row, col)\r\n\r\n                if show_ui:\r\n                    if ui_mouse_x + 10 <= mouse_x <= ui_mouse_x + 190:\r\n                        if ui_mouse_y + 10 <= mouse_y <= ui_mouse_y + 40:\r\n                            selected_tower = Cannon()\r\n                            show_ui = False\r\n                        elif ui_mouse_y + 40 <= mouse_y <= ui_mouse_y + 70:\r\n                            selected_tower = Catapult()\r\n                            show_ui = False\r\n                        elif ui_mouse_y + 70 <= mouse_y <= ui_mouse_y + 100:\r\n                            selected_tower = Ballista()\r\n                            show_ui = False\r\n\r\n                if selected_tower and selected_tile:\r\n                    row, col = selected_tile\r\n                    if map.tileMap[row][col] == 0:\r\n                        map.build(selected_tower, row, col)\r\n                        towers.append(selected_tower)\r\n                        selected_tower = None\r\n                        selected_tile = None\r\n\r\n        if show_ui:\r\n            draw_ui(screen, ui_mouse_x, ui_mouse_y)\r\n\r\n        castle.draw()\r\n\r\n\r\n\r\n        if pygame.time.get_ticks() % 5000 < 50:\r\n            new_enemy = Knight()\r\n            enemies.append(new_enemy)\r\n\r\n        for enemy in enemies:\r\n            enemy.move(waypoints)\r\n            enemy.update_animation()\r\n            enemy.draw(screen)\r\n\r\n\r\n            if castle.x <= enemy.x <= castle.x + castle.width and castle.y <= enemy.y <= castle.y + castle.height:\r\n                if castle.shield > 0:\r\n                    castle.shield -= enemy.damage\r\n                else:\r\n                    castle.health -= enemy.damage\r\n                enemies.remove(enemy)\r\n\r\n\r\n            if enemy.health < 1:\r\n                enemies.remove(enemy)\r\n\r\n            enemy.draw_health_bar(screen)\r\n\r\n\r\n        current_time = pygame.time.get_ticks()\r\n        for tower in towers:\r\n            tower.update(enemies, current_time)\r\n\r\n            for projectile in tower.projectiles:\r\n                pygame.draw.circle(screen, (200, 0, 0), (int(projectile.x), int(projectile.y)), 3)\r\n\r\n        pygame.display.flip()\r\n        clock.tick(FPS)\r\n\r\n    pygame.quit()\r\ngame_loop()
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/test.py b/test.py
--- a/test.py	(revision e701638805d62cb68143c86fc48858ffdca5d6d0)
+++ b/test.py	(date 1731725983604)
@@ -175,7 +175,7 @@
     while running:
         screen.fill(DARK_GREEN)
         map.draw(screen)
-        drawGrid()
+
 
         for event in pygame.event.get():
             if event.type == pygame.QUIT:
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"9eab3a53-01e3-4fbd-a9de-68b5f719261a\" name=\"Changes\" comment=\"Got scaling to work\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/GameElements/Map.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/GameElements/Map.py\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/test.py\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/test.py\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ChangesViewManager\" show_ignored=\"true\" />\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Python Script\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"main\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;mastigos&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">{\r\n  &quot;selectedUrlAndAccountId&quot;: {\r\n    &quot;url&quot;: &quot;https://github.com/mastigos/TowerDefense&quot;,\r\n    &quot;accountId&quot;: &quot;87df98b5-9506-4ebd-8b06-7e7524395330&quot;\r\n  }\r\n}</component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 2\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2nt3a2U3qFQ2JbXwrNWEOxYJmG4\" />\r\n  <component name=\"ProjectLevelVcsManager\">\r\n    <ConfirmationsSetting value=\"1\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;Python.Enemy.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.Tower.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.TowerGame.executor&quot;: &quot;Run&quot;,\r\n    &quot;Python.test.executor&quot;: &quot;Run&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;Collin's-stuff&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;editor.preferences.completion&quot;\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\Lynn\\PycharmProjects\\TowerDefense\\GameElements\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"SharedIndexes\">\r\n    <attachedChunks>\r\n      <set>\r\n        <option value=\"bundled-python-sdk-0e3be3396995-c546a90a8094-com.jetbrains.pycharm.community.sharedIndexes.bundled-PC-242.23339.19\" />\r\n      </set>\r\n    </attachedChunks>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"9eab3a53-01e3-4fbd-a9de-68b5f719261a\" name=\"Changes\" comment=\"\" />\r\n      <created>1729778604522</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1729778604522</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Added Enemy implementation\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1730212566212</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1730212566212</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"Added Enemy implementation\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1730212618581</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1730212618581</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"Added Waypoints and pathfinding\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1730992711222</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1730992711222</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"Added Waypoints and pathfinding\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1731595530934</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1731595530934</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"Enemy animation stuff\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1731720557174</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1731720557174</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"Got scaling to work\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1731721492931</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1731721492931</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"7\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State />\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"Added Enemy implementation\" />\r\n    <MESSAGE value=\"Added Waypoints and pathfinding\" />\r\n    <MESSAGE value=\"Enemy animation stuff\" />\r\n    <MESSAGE value=\"Got scaling to work\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"Got scaling to work\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision e701638805d62cb68143c86fc48858ffdca5d6d0)
+++ b/.idea/workspace.xml	(date 1731726009413)
@@ -4,9 +4,8 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="9eab3a53-01e3-4fbd-a9de-68b5f719261a" name="Changes" comment="Got scaling to work">
+    <list default="true" id="9eab3a53-01e3-4fbd-a9de-68b5f719261a" name="Changes" comment="fixed enemy attributes to give them all maxhealth">
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/GameElements/Map.py" beforeDir="false" afterPath="$PROJECT_DIR$/GameElements/Map.py" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/test.py" beforeDir="false" afterPath="$PROJECT_DIR$/test.py" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
@@ -133,7 +132,39 @@
       <option name="project" value="LOCAL" />
       <updated>1731721492931</updated>
     </task>
-    <option name="localTasksCounter" value="7" />
+    <task id="LOCAL-00007" summary="Got scaling to work">
+      <option name="closed" value="true" />
+      <created>1731724893588</created>
+      <option name="number" value="00007" />
+      <option name="presentableId" value="LOCAL-00007" />
+      <option name="project" value="LOCAL" />
+      <updated>1731724893588</updated>
+    </task>
+    <task id="LOCAL-00008" summary="Got scaling to work">
+      <option name="closed" value="true" />
+      <created>1731724907853</created>
+      <option name="number" value="00008" />
+      <option name="presentableId" value="LOCAL-00008" />
+      <option name="project" value="LOCAL" />
+      <updated>1731724907853</updated>
+    </task>
+    <task id="LOCAL-00009" summary="fixed enemy attributes to give them all maxhealth">
+      <option name="closed" value="true" />
+      <created>1731725092844</created>
+      <option name="number" value="00009" />
+      <option name="presentableId" value="LOCAL-00009" />
+      <option name="project" value="LOCAL" />
+      <updated>1731725092844</updated>
+    </task>
+    <task id="LOCAL-00010" summary="fixed enemy attributes to give them all maxhealth">
+      <option name="closed" value="true" />
+      <created>1731725118321</created>
+      <option name="number" value="00010" />
+      <option name="presentableId" value="LOCAL-00010" />
+      <option name="project" value="LOCAL" />
+      <updated>1731725118321</updated>
+    </task>
+    <option name="localTasksCounter" value="11" />
     <servers />
   </component>
   <component name="Vcs.Log.Tabs.Properties">
@@ -152,6 +183,7 @@
     <MESSAGE value="Added Waypoints and pathfinding" />
     <MESSAGE value="Enemy animation stuff" />
     <MESSAGE value="Got scaling to work" />
-    <option name="LAST_COMMIT_MESSAGE" value="Got scaling to work" />
+    <MESSAGE value="fixed enemy attributes to give them all maxhealth" />
+    <option name="LAST_COMMIT_MESSAGE" value="fixed enemy attributes to give them all maxhealth" />
   </component>
 </project>
\ No newline at end of file
